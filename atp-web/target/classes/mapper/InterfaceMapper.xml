<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.autotest.astarte.web.mapper.InterfaceMapper">

    <resultMap id="BaseResultMap" type="com.autotest.astarte.api.entity.Interface">
        <result column="ID" jdbcType="INTEGER" property="id" />
        <result column="SYSTEM_ID" jdbcType="VARCHAR" property="systemId" />
        <result column="DESCRIPTION" jdbcType="VARCHAR" property="description" />
        <result column="INTERFACE_NAME" jdbcType="VARCHAR" property="interfaceName" />
        <result column="INTERFACE_PATH" jdbcType="VARCHAR" property="interfacePath" />
        <result column="INTERFACE_TYPE" jdbcType="VARCHAR" property="interfaceType" />
        <result column="CREATE_USER" jdbcType="VARCHAR" property="createUser" />
        <result column="UPDATE_USER" jdbcType="VARCHAR" property="updateUser" />
        <result column="UPDATE_TIME" jdbcType="TIMESTAMP" property="updateTime" />
    </resultMap>

    <sql id = "ATP_INTERFACE_FILED">
        ID,SYSTEM_ID,INTERFACE_NAME,INTERFACE_PATH,INTERFACE_TYPE
    </sql>

    <select id="selectInterfaceById" resultMap="BaseResultMap" parameterType="com.autotest.astarte.api.entity.Interface">
        select *
        from atp_interface where id = #{id}
    </select>

    <select id="selectInterfaceByPage" resultMap="BaseResultMap" parameterType="com.autotest.astarte.api.entity.Interface">
        select * from atp_interface ${ew.customSqlSegment}
    </select>
</mapper>